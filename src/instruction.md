![Изображение](https://spoonacular.com/application/frontend/images/logo-simple-framed-green-gradient.svg "Логотип Spoonacular") [https://spoonacular.com/](https://spoonacular.com/)


# Инструкция по работе с телеграм-ботом по поиску рецептов в рамках проекта DS-04

##### Любовь приходит и уходит, а кушать хочется всегда...

Над проектом работала команда Dream Team: **marguerd** (Team Lead), **novaeros** (Developer) и **franzeny** (Developer).



## 01
Из нескольких бесплатных API в сети командой выбран не только интересный, но и полезный ресурс с рецептами [API Spoonacular](https://api.spoonacular.com/recipes): различные виды поиска, включая поиск по ингредиентам или с ограничением калорийности, красивые фото готовых блюд и пошаговые рецепты со списками необходимых ингредиентов и оборудования. Пример: [Паста Маргарита](https://spoonacular.com/recipes/pasta-margherita-511728)



## 02
В файле **Recipes.py** описан класс взаимодействия с API, а в рамках класса методы взаимодействия с ним.

Конструктор класса принимает один параметр типа string, содержащий ключ для доступа к API сайта.

Описаны следующие методы:

1. Метод *get_random_recipe()*. 
   Возвращает случайный рецепт или сообщение об ошибке. 
   Вызывается без параметров.

2. Метод *get_recipe(string)*.
   Возвращает рецепт по его наименованию или сообщение об ошибке.
   Вызывается с аргументом типа string, содержащим название рецепта.

3. Метод *get_recipe_by(ingredients)*.
   Возвращает рецепт по его ингредиентам или сообщение об ошибке. Работает только с ингредиентами состоящими из одного слова. Вызывается с аргументом ingredients типа string, содержащим строку ингредиентов через запятую или список таких строк.
   
   Корректные вызовы: 
```python 
get_recipe_by("milk,eggs,cheese") 
get_recipe_by(["milk" , "eggs" , "cheese"])
get_recipe_by(["milk , eggs" , "cheese"])
```



## 03
Телеграм-бот **CookingBot** доступен по имени *@spoonacular_ds04_bot* или по ссылке: [https://t.me/spoonacular_ds04_bot](https://t.me/spoonacular_ds04_bot*).



Бот начинает работу после ввода /start и присылает приветственное сообщение: "*I am here :) If there are no buttons on the screen, click the Buttons icon*".


После этого пользователю предоставляются на выбор три кнопки: **Random**, **ByDish** и **ByIngr**. 

* При нажатии на кнопку **Random** бот присылает один случайный рецепт. 
 


* При нажатии на кнопку **ByIngr** бот присылает сообщение с предложением ввести ингредиенты через запятую: "*Please list the ingredients separated by commas...*", а после ввода ингредиентов присылает один случайный рецепт с этими ингредиентами. 
	+ Можно ввести как один ингредиент, так и несколько (через запятую). 
	+ Если рецептов с такими ингредиентами несколько, то бот пришлет название, фотографию и ссылку на один из них. 
	+ Если таких рецептов нет, то бот выведет сообщение об ошибке "*Oops! Something happened...*". 
	+ Бот останется в режиме вывода рецепта по ингредиентам до тех пор, пока не будет нажата кнопка **Random** или **ByDish**.



* При нажатии на кнопку **ByDish** бот присылает сообщение с предложением ввести название блюда: "*Please enter the name of the dish*", а после ввода названия блюда присылает один рецепт приготовления этого блюда.  
	+ Если рецептов приготовления этого блюда несколько, то бот пришлет название, фотографию и ссылку на один из них. 
	+ Если таких рецептов нет, то бот выведет сообщение об ошибке "*Oops! Something happened...*". 
	+ Бот останется в режиме вывода рецепта по названию блюда до тех пор, пока не будет нажата кнопка **Random** или **ByIngr**.




## 04
Бот запущен на внешнем веб-хостинге PythonAnywhere и работает в любое время. Бесплатный тарифный план API Spoonacular ограничен 150 запросами в день.
